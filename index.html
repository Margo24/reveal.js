<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Presentation</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
                    <img data-src="pics/start-pic.png" alt="Title">
                </section>
				<section>
                    <section>
                        <h2>What is Webpack ?</h2>
                        <p>Webpack is a static module builder.
                            This is important to understand, as Webpack does not run during your page,
                            it runs during your development.</p>
                    </section>
                    <section>
                        <h2>Webpack dependency graph </h2>
                        <img height="400" data-src="pics/running-scheme.png" alt="Webpack running scheme">
                    </section>
                    <section>
                    <h3>Webpack advantages</h3>
                    <ul>
                        <li>great for working with single page applications</li>
                        <li>can carry out advanced code separation</li>
                    </ul>
                    </section>
                    <section>
                        <h3>Webpack disadvantages</h3>
                        <ul>
                            <li>difficult to understand his work at first time</li>
                            <li>part of the documentation is outdated because of large number of changes</li>
                        </ul>
                    </section>
                </section>
                <section id="fragments">
                    <h3>Abilityes</h3>
                    <ul>
                        <li class="fragment">bundle your resources</li>
                        <li class="fragment">watch for changes and performs tasks repeatedly</li>
                        <li class="fragment">transpose next-generation JavaScript to ES5 using Babel</li>
                        <li class="fragment">transpose CoffeeScript to JavaScript</li>
                        <li class="fragment">convert embedded images to data:URI</li>
                        <li class="fragment">makes it possible to use require() for CSS files</li>
                        <li class="fragment">can use webpack-dev-server and livereload</li>
                        <li class="fragment">can use Hot Module Replacement </li>
                        <li class="fragment">can split the output file into several files</li>
                        <li class="fragment">can perform Tree Shaking</li>
                    </ul>
                </section>
                <section data-markdown>
                    <script type="text/template">
                        ## Global installation

                        Global installation by Yarn
                        ```

                        yarn global add webpack webpack-cli

                        ```

                        Global installation by npm
                        ```

                        npm i -g webpack webpack-cli

                        ```

                        Iinitiate webpack
                        ```

                        webpack-cli
                        ```
                    </script>
                </section>
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Local Installation

                            Local installation by Yarn
                            ```

                            yarn add webpack webpack-cli -D
                            ```

                            Local installation by npm
                            ```

                            npm i webpack webpack-cli --save-dev
                            ```
                        </script>
                    </section>
                    <section>
                        <p>Add this lines to  <b>package.json</b> file:</p>
                        <pre><code class="hljs" data-trim data-line-numbers="3-5">
{
  //...
  "scripts": {
    "build": "webpack"
  }
}
                        </code></pre>
                        <section data-markdown>
                            <script type="text/template">
                                Run Webpack by command:
                                ```

                                npm build
                                ```
                            </script>
                        </section>
                    </section>
                </section>
                <section>
                    <h3>Webpack has 2 interfaces:</h3>
                    <ol>
                        <li>webpack CLI – interface by default  (installed as a part of Webpack and suitable for production builds).</li>
                        <li>webpack-dev-server – server of Node.js (should be installed and suitable for development builds)</li>
                    </ol>
                </section>
                <section>
                    <section>
                        <h2>Webpack setups</h2>
                        <p>Webpack setups by default:</p>
                        <ul>
                            <li>entry point: <span class="fragment highlight-green">./src/index.js</span></li>
                            <li>output: <span class="fragment highlight-green">./dist/main.js</span></li>
                            <li><span class="fragment highlight-green">production mode</span></li>
                        </ul>
                        <p>Webpack configuration file - <b>webpack.config.js</b></p>
                    </section>
                </section>
                <section>
                    <h3>Example of webpack.config.js file</h3>
                    <pre><code class="hljs" data-trim data-line-numbers="4-21">
const path = require('path');

module.exports = {
     entry: './path/to/my/entry/file.js',
     mode: 'development',
     output: {
          path: path.resolve(__dirname, 'dist'),
          filename: 'my-first-webpack.bundle.js'
          },
     rules: [
          {
          test: /\.js$/,
          exclude: /(node_modules|bower_components)/,
          use: {
                loader: 'babel-loader',
                options: {
                        presets: ['@babel/preset-env']
                        }
                }
          }
    ]
};
                    </code></pre>
                </section>
                <section>
                    <section>
                        <h2>Webpack modes</h2>
                        <h4>Development mode:</h4>
                        <ul>
                            <li>less optimized than production</li>
                            <li>works faster</li>
                            <li>does not delete comments</li>
                            <li>provides more detailed error messages and solutions</li>
                            <li>facilitates debugging greatly</li>
                        </ul>
                    </section>
                    <section>
                        <h4>Production mode:</h4>
                        <ul>
                            <li>slower than development</li>
                            <li>resulting JavaScript file is smaller </li>
                        </ul>
                    </section>
                </section>
                <section>
                    <h3>File watcher</h3>
                    <pre><code class="hljs" data-trim data-line-numbers="3-5">
{
  //...
  "scripts": {
    "watch": "webpack --watch"
  }
}
                    </code></pre>
                    <section data-markdown>
                        <script type="text/template">
                            Run file watcher by command:
                            ```

                            npm run watch
                            ```
                        </script>
                    </section>
                </section>
                <section>
                    <section>
                        <h3>Source Maps</h3>
                        <p>Devtool configuration property:</p>
                        <pre><code class="hljs" data-trim data-line-numbers="3">
module.exports = {
  /*...*/
  devtool: 'inline-source-map',
  /*...*/
}
                        </code></pre>
                    </section>
                    <section>
                        <h3>Devtool most commonly used meanings:</h3>
                        <ul>
                            <li>none</li>
                            <li>source-map</li>
                            <li>inline-source-map</li>
                        </ul>
                    </section>
                </section>
                <section data-markdown>
                    <script type="text/template">
                        ## Hot and inline optoins for webpack-dev-server

                        Reloads the entire browser page:
                        ```

                        webpack-dev-server --inline
                        ```

                        Reloads just the module(HMR), or the entire page if HMR fails:
                        ```

                        webpack-dev-server  --inline --hot
                        ```
                    </script>
                </section>
                <section>
                    <h3>Enabling HMR:</h3>
                    <ol>
                        <li>WDS has to run in the hot mode to expose the hot module replacement interface to the client</li>
                        <li>Webpack has to provide hot updates to the server and can be achieved using webpack.HotModuleReplacementPlugin</li>
                        <li>The client has to run specific scripts provided by the WDS. They will be injected automatically but can be enabled explicitly through entry configuration</li>
                        <li>The client has to implement the HMR interface through <b>module.hot.accept</b></li>
                    </ol>
                </section>
                <section>
                    <h3>Add to configuration file</h3>
                    <pre><code class="hljs" data-trim data-line-numbers="3,6,11,14">
module.exports = {
  /*...*/
  devServer: {
    // Don't refresh if hot loading fails. Good while
    // implementing the client interface.
    hotOnly: true,

    // If you want to refresh on errors too, set
    // hot: true,
  },
  plugins: [
    // Enable the plugin to let webpack communicate changes
    // to WDS. --hot sets this automatically!
    new webpack.HotModuleReplacementPlugin(),
  ],
  /*...*/
}
                        </code></pre>
                </section>
                <section>
                    <section>
                        <h3>Lazy loading</h3>
                        <img data-src="pics/lazy-loading.png" alt="Title picture">
                    </section>
                    <section>
                        <p>Lazy loading (also called on-demand loading) is an optimization technique
                            for the online content, be it a website or a web app.</p>
                        <p>Instead of loading the entire web page and rendering it to the user in one go as in bulk loading,
                            the concept of lazy loading assists in loading only the required section and delays the remaining,
                            until it is needed by the user.</p>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Route  URL structure

                            ```
                            Home: /
                            Category listing: /category/42
                            Product page: /product/1234
                            Checkout: /checkout
                            ```

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            In addition, we don’t really need all the JavaScript for every route when the site is first loaded.
                            But if you do naive bundling, you’re going to get a single massive file
                            that would have to be fully loaded and parsed before anything happened:

                            ```
                            dist/
                            big-bundle.js
                            ```

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            So what we’d end up with would be something along the lines of:

                            ```
                            dist/
                            bundle-home.js
                            bundle-category.js
                            bundle-product.js
                            bundle-checkout.js
                            home.js
                            category.js
                            product.js
                            checkout.js

                            ```
                        </script>
                    </section>
                    <section>
                        <p>
                            Only one of the bundle files would be loaded, depending on which route the user takes to get to the site.
                            This file would then lazily load the other modules, as needed, without loading its own.
                            So if the user were to come in through a product,
                            they would load <b>bundle-product.js</b>, which would boot up the page and then would only fetch <b>home.js</b>,
                            <b>category.js</b> and <b>checkout.js</b> if needed.
                        </p>
                    </section>
                </section>
                <section>
                    <img data-src="pics/thats_all_folks.jpg" alt="Warner Bros. banner">
                </section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
